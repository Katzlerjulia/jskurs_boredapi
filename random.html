<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">

  <title>who wrote what?</title>
</head>
<body class="body2">
<header>
      <nav class="navbar2">
        <div class="topnav2">
  <a class="active2" href="index.html">Who wrote what?</a>
  <div class="topnav-right2">
    <a href="index.html">home</a>
    <a href="random.html">random</a>
  </div>
</div>
      </nav>
      <section class="hero2">
        <div class="grid-container2">
      <div id="hero-image2"></div>
      <div id="info2">
        <h2> <i>What is this?</i></h2>
        <p id="supriseText">Välkommen till denna del av hemsidan. Detta har ingenting med författar-sökning att göra. Det här är bara random fetches och saker jag fyllt upp med eftersom jag hade tid över :)</p>
      <p id="uppdatera">Men låt inte det hindra dig från att ta del av informationen som finns att hämta här... testa fyll i formuläret nedan.</p>
      <button class="surprise"  id="surprise"     type="btn"  onclick="surprise()">psst..klicka här för en surprise.</button>
      <button class="surpriseRefresh"  id="surpriseRefresh"     type="btn"  onclick="refresh()">Gå tillbaka</button>
      </div>
      </div>
      </section>
    </header>


    <main>
       <section class="form-section2">
        <fieldset class="formulär2">
<h1 class="cities-tjansten">Cities-tjänsten</h1>
          <form method="post" action="https://avancera.app/cities/" class="cities-form" role="search" onsubmit="return false">
             <div class="input-container_cities">
              <input id="searchCity" class="search-country" type="text" placeholder="City:"  /> <br><br>
              <input id="searchPopulation" class="search-country" type="text" placeholder="Population:"  /> <br><br>
              </div>
              <button class="search-btn" id="search-button" type="btn" onclick="getFetch()">Sök</button>
              <button class="newSearch"  id="newSearch"     type="btn"  onclick="refresh()">Ny sökning</button>
            </form>
        </fieldset>
        <div id="resultCities"></div>
      </section>


        <div class="h2chart">
          <h2 >Nedan kan du läsa lite statisitk om USA's befolkning genom åren. Mycket intressant!</h2>
        </div>
      <div class="myChart">

  <canvas id="myChart"></canvas>
</div>
      </main>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script src="cities.js"></script>
      <script>
          const surpriseButton = document.getElementById('surprise')
          const textElement = document.getElementById('supriseText')
          const updateText = document.getElementById('uppdatera')
          const refreshButton = document.getElementById('surpriseRefresh')
          refreshButton.style.display ='none'


        function surprise(){
fetch('https://official-joke-api.appspot.com/random_joke')
   .then(response => response.json())
   .then(jokes => showJokes(jokes.results));

   showJokes = jokes => {
   const textElement = document.getElementById('supriseText')
jokes(joke => {

    textElement.textContent =  `Ett skämt: ${joke.setup}`;


    console.log(textElement.textContent)
  ;
  })
}

          surpriseButton.style.display ='none'
          refreshButton.style.display = 'block'

        }
        /* textElement.textContent = 'Knock, knock. Who is there? very long pause….Java.'
          console.log(textElement.textContent)
          updateText.textContent = 'Hehe... anyway du kan gå tillbaka till förra texten genom att klicka på knappen nedan :P'
          console.log(updateText.textContent)*/

        function refresh() {
          location.reload();
          }

      </script>
     <footer class="footer2">
      <p>©juliakatzler</p>
      <p>picture cred: Image by <a href="https://pixabay.com/users/coxinhafotos-3726685/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2086023">CoxinhaFotos</a> from <a href="https://pixabay.com//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2086023">Pixabay</a></p>
    </footer>
</body>
</html>
